<template name="AdminContributorsTable">
  <table class="table data-table full-width border-bottom">
    <thead>
    <tr>
      <th></th>
      <th>Email</th>
      <th>Name</th>
      <th>Default Role</th>
      <th>User</th>
      <th>Type</th>
      <th>Manager</th>
      <th>Modified</th>
      <th>Active</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    {{#each contributors}}
      <tr class="data-table-row show-controls-on-hover {{#if isOdd @index}}odd{{/if}}"
          data-pk="{{_id}}">
        <td class="open-link">
          <a class="hidden-control" href="{{pathFor 'ContributorHome' contributorId=_id}}">
            <span class="glyphicon glyphicon-home"></span>
          </a>
        </td>
        <td>{{> EditableTextField dataKey="email" value=email emptyText="Email" mode="popup" }}</td>
        <td>{{> EditableTextField dataKey="name" value=name emptyText="Name" mode="popup" }}</td>
        <td>{{> EditableRecordSelector roleSelectorContext }}</td>
        <td>
          {{#with user}}
            <span class="label label-success">Yes</span>
          {{else}}
            <span class="label label-warning">No</span>
          {{/with}}
        </td>
        <td>{{> EditableEnumSelector dataKey="usertype" value=usertype enum=UserTypes emptyText="Select" mode="popup" }}</td>
        <td>{{> EditableRecordSelector managerSelectorContext }}</td>
        <td>{{dateFormat dateModified}}</td>
        <td>{{> EditableCheckbox dataKey="isActive" value=isActive mode="popup" }}</td>
        <td>
          <a class="link-red hidden-control btn-delete-contributor">
            <span class="glyphicon glyphicon-minus-sign"></span>
          </a>
        </td>
      </tr>
    {{/each}}
    </tbody>
  </table>
</template>