<template name="IntegrationDisplayTemplate">
  {{#if Template.subscriptionsReady }}
    {{#with displayTemplate}}
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <ol class="breadcrumb">
              <li><a href="{{pathFor 'AdminHome' }}">Admin Home</a></li>
              <li><a href="{{pathFor 'IntegrationDisplayTemplates' }}">Display Templates</a></li>
              <li class="active">Display Template</li>
            </ol>
            
            <h1>{{title}}</h1>
          </div>
        </div>
        
        <div class="row">
          <div class="col-md-8">
            {{#RobaTabGroup name="template-tabs" navClass="nav-tabs"}}
              {{#RobaTab name="presentation" title="Presentation"}}
                <h2>Template HTML</h2>
                {{> EditableCode dataKey="templateLayout" value=templateLayout emptyText="Template HTML" language="html" mode="inline"}}
              {{/RobaTab}}
              {{#RobaTab name="code" title="Code"}}
                <h2>Helpers</h2>
                {{> EditableCode dataKey="templateHelpers" value=templateHelpers emptyText="Template Helpers" language="javascript" mode="inline"}}
              
                <h2>Events</h2>
                {{> EditableCode dataKey="templateEvents" value=templateEvents emptyText="Template Events" language="javascript" mode="inline"}}
              
                <h2>Created</h2>
                {{> EditableCode dataKey="templateCreated" value=templateCreated emptyText="Template Created" language="javascript" mode="inline"}}
              
                <h2>Rendered</h2>
                {{> EditableCode dataKey="templateRendered" value=templateRendered emptyText="Template Rendered" language="javascript" mode="inline"}}
              
                <h2>Destroyed</h2>
                {{> EditableCode dataKey="templateDestroyed" value=templateDestroyed emptyText="Template Destroyed" language="javascript" mode="inline"}}
              {{/RobaTab}}
              {{#RobaTab name="preview" title="Preview"}}
                <div class="preview-container-toolbar">
                  <button class="btn btn-primary btn-preview">
                    <span class="glyphicon glyphicon-play"></span>
                    Preview
                  </button>
                </div>

                {{#if previewError}}
                  <div>
                    <h2>Error in {{previewError.step}}:</h2>
                    {{previewError.error}}
                  </div>

                  <pre>{{previewError.error.stack}}</pre>
                {{/if}}

                {{#if previewMessage}}
                  <div class="well">
                    {{previewMessage}}
                  </div>
                {{/if}}

                <div class="full-width preview-container">

                </div>
              {{/RobaTab}}
            {{/RobaTabGroup}}
          </div>
          <div class="col-md-4">
            <h2>Field Reference</h2>
    
            {{> IntegrationServerFieldReference }}
          </div>
        </div>
      </div>
    {{/with}}
  {{else}}
    {{> AppLoading }}
  {{/if}}
</template>