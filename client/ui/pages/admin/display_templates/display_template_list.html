<template name="DisplayTemplateList">
  <table class="table data-table full-width border-bottom">
    <thead>
    <tr>
      <th></th>
      <th>Template Name</th>
      <th>Type</th>
      <th>Current Version</th>
      <th>Published</th>
      <th>Modified By</th>
      <th>Modified</th>
      <th></th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    {{#each this}}
      <tr class="data-table-row show-controls-on-hover {{#if isOdd @index}}odd{{/if}}" data-pk="{{_id}}">
        <td class="open-link">
          {{#if parentGroup}}
            <a class="hidden-control" href="{{pathFor 'DisplayTemplate' templateId=_id groupId=parentGroup}}">
              <span class="glyphicon glyphicon-folder-open"></span>
            </a>
          {{/if}}
        </td>
        <td>{{> EditableTextField dataKey="templateName" value=templateName emptyText="Template Name" }}</td>
        <td>{{> EditableEnumSelector enum=DisplayTemplateTypes dataKey="templateType" value=templateType emptyText="Template Type" }}</td>
        <td>
          {{ currentVersion }}
          {{#if unpublishedChanges }}
            <span class="label label-warning">Unpublished Changes</span>
          {{else}}
            <span class="label label-success">Up to date</span>
          {{/if}}
        </td>
        <td>{{ dateFormat lastPublished }}</td>
        <td>{{ userName modifiedBy }}</td>
        <td>{{ dateFormat dateModified }}</td>
        <td>
          <a class="hidden-control btn-move-template">
            <span class="glyphicon glyphicon-move"></span>
          </a>
        </td>
        <td>
          <a class="link-red hidden-control btn-delete-display-template">
            <span class="glyphicon glyphicon-minus-sign"></span>
          </a>
        </td>
      </tr>
    {{/each}}
    </tbody>
  </table>
</template>